    <project name="najo" default="rebuild" basedir=".">
        <description>
         JFlex compiler
        </description>
      <!-- set global properties for this build -->
      <property name="workspace" location="F:\eclipse juno\workspace"/>
      <property name="src" location="src"/>
      <property name="build" location="build"/>
      <taskdef classname="JFlex.anttask.JFlexTask" name="jflex">
      <classpath>
        <pathelement path="${workspace}\libraries\jflex-1.4.3\lib\JFlex.jar"/>
      </classpath>
      </taskdef>
      <!-- <taskdef name="yacc" classname="java_cup.anttask.CUPTask"/> -->
      <target name="init">
        <!-- Create the time stamp -->
        <tstamp/>
        <!-- Create the build directory structure used by compile -->
        <mkdir dir="${build}"/>
      </target>
      <target name="rebuild" depends="cleanGrammaire,compileGrammaire"
              description="Rebuild all " >
          <!-- Compile the java code from ${src} into ${build} -->
      </target>
      <target name="compileGrammaire" depends="init,jflex,yacc"
            description="compile the source " >
        <!-- Compile the java code from ${src} into ${build} -->
        <javac      srcdir="${src}"
                    destdir="${build}"
                    debug="on"/>
      </target>
      <!-- Create the java file from flex -->
      <target name="jflex" depends="init"
            description="do the jflex thing">
        <jflex 
          verbose="on"
          file="${src}/grammaire/najo.flex"
        />
        <jflex 
          verbose="on"
          file="${src}/desc/desc.flex"
        />
      </target>
      <!-- Create the java file from yacc -->
      <target name="yacc">
	      <exec	
      		failonerror="on"
      		dir="${src}/grammaire" executable="${workspace}\libraries\byaccj1.15\yacc" vmlauncher="no">
	      	<arg value="-J"/>
   	      	<arg value="-Jpackage=grammaire"/>
   	      	<arg value="-Jstack=600"/>
	    	<arg value="najo.y"/>
	      </exec>
	      <exec	
    		failonerror="on"
    		dir="${src}/desc" executable="${workspace}\libraries\byaccj1.15\yacc" vmlauncher="no">
	      	<arg value="-J"/>
 	      	<arg value="-Jpackage=desc"/>
 	      	<arg value="-Jstack=600"/>
	    	<arg value="desc.y"/>
	      </exec>
      </target>
      <!-- Clean grammaire -->
      <target name="cleanGrammaire"
            description="clean up" >
        <!-- Delete the ${build} directory trees -->
  		<delete includeEmptyDirs="true" failonerror="off">
			<fileset dir="build/grammaire"/>
			<fileset dir="build/desc"/>
		</delete>
		<delete includeemptydirs="true" failonerror="false">
			<fileset dir="${src}/grammaire" includes="**/Parser.java **/ParserVal.java **/Yylex.java **/yacc.*"/>
			<fileset dir="${src}/desc" includes="**/Parser.java **/ParserVal.java **/Yylex.java **/yacc.*"/>
		</delete>
      </target>
    </project>
